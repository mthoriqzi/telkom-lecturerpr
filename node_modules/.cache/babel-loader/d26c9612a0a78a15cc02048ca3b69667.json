{"ast":null,"code":"'use strict';\n/* global __resourceQuery WorkerGlobalScope self */\n\n/* eslint prefer-destructuring: off */\n\nvar stripAnsi = require('strip-ansi');\n\nvar socket = require('./socket');\n\nvar overlay = require('./overlay');\n\nvar _require = require('./utils/log'),\n    log = _require.log,\n    setLogLevel = _require.setLogLevel;\n\nvar sendMessage = require('./utils/sendMessage');\n\nvar reloadApp = require('./utils/reloadApp');\n\nvar createSocketUrl = require('./utils/createSocketUrl');\n\nvar status = {\n  isUnloading: false,\n  currentHash: ''\n};\nvar options = {\n  hot: false,\n  hotReload: true,\n  liveReload: false,\n  initial: true,\n  useWarningOverlay: false,\n  useErrorOverlay: false,\n  useProgress: false\n};\nvar socketUrl = createSocketUrl(__resourceQuery);\nself.addEventListener('beforeunload', function () {\n  status.isUnloading = true;\n});\n\nif (typeof window !== 'undefined') {\n  var qs = window.location.search.toLowerCase();\n  options.hotReload = qs.indexOf('hotreload=false') === -1;\n}\n\nvar onSocketMessage = {\n  hot: function hot() {\n    options.hot = true;\n    log.info('[WDS] Hot Module Replacement enabled.');\n  },\n  liveReload: function liveReload() {\n    options.liveReload = true;\n    log.info('[WDS] Live Reloading enabled.');\n  },\n  invalid: function invalid() {\n    log.info('[WDS] App updated. Recompiling...'); // fixes #1042. overlay doesn't clear if errors are fixed but warnings remain.\n\n    if (options.useWarningOverlay || options.useErrorOverlay) {\n      overlay.clear();\n    }\n\n    sendMessage('Invalid');\n  },\n  hash: function hash(_hash) {\n    status.currentHash = _hash;\n  },\n  'still-ok': function stillOk() {\n    log.info('[WDS] Nothing changed.');\n\n    if (options.useWarningOverlay || options.useErrorOverlay) {\n      overlay.clear();\n    }\n\n    sendMessage('StillOk');\n  },\n  'log-level': function logLevel(level) {\n    var hotCtx = require.context('webpack/hot', false, /^\\.\\/log$/);\n\n    if (hotCtx.keys().indexOf('./log') !== -1) {\n      hotCtx('./log').setLogLevel(level);\n    }\n\n    setLogLevel(level);\n  },\n  overlay: function overlay(value) {\n    if (typeof document !== 'undefined') {\n      if (typeof value === 'boolean') {\n        options.useWarningOverlay = false;\n        options.useErrorOverlay = value;\n      } else if (value) {\n        options.useWarningOverlay = value.warnings;\n        options.useErrorOverlay = value.errors;\n      }\n    }\n  },\n  progress: function progress(_progress) {\n    if (typeof document !== 'undefined') {\n      options.useProgress = _progress;\n    }\n  },\n  'progress-update': function progressUpdate(data) {\n    if (options.useProgress) {\n      log.info(\"[WDS] \".concat(data.percent, \"% - \").concat(data.msg, \".\"));\n    }\n\n    sendMessage('Progress', data);\n  },\n  ok: function ok() {\n    sendMessage('Ok');\n\n    if (options.useWarningOverlay || options.useErrorOverlay) {\n      overlay.clear();\n    }\n\n    if (options.initial) {\n      return options.initial = false;\n    } // eslint-disable-line no-return-assign\n\n\n    reloadApp(options, status);\n  },\n  'content-changed': function contentChanged() {\n    log.info('[WDS] Content base changed. Reloading...');\n    self.location.reload();\n  },\n  warnings: function warnings(_warnings) {\n    log.warn('[WDS] Warnings while compiling.');\n\n    var strippedWarnings = _warnings.map(function (warning) {\n      return stripAnsi(warning);\n    });\n\n    sendMessage('Warnings', strippedWarnings);\n\n    for (var i = 0; i < strippedWarnings.length; i++) {\n      log.warn(strippedWarnings[i]);\n    }\n\n    if (options.useWarningOverlay) {\n      overlay.showMessage(_warnings);\n    }\n\n    if (options.initial) {\n      return options.initial = false;\n    } // eslint-disable-line no-return-assign\n\n\n    reloadApp(options, status);\n  },\n  errors: function errors(_errors) {\n    log.error('[WDS] Errors while compiling. Reload prevented.');\n\n    var strippedErrors = _errors.map(function (error) {\n      return stripAnsi(error);\n    });\n\n    sendMessage('Errors', strippedErrors);\n\n    for (var i = 0; i < strippedErrors.length; i++) {\n      log.error(strippedErrors[i]);\n    }\n\n    if (options.useErrorOverlay) {\n      overlay.showMessage(_errors);\n    }\n\n    options.initial = false;\n  },\n  error: function error(_error) {\n    log.error(_error);\n  },\n  close: function close() {\n    log.error('[WDS] Disconnected!');\n    sendMessage('Close');\n  }\n};\nsocket(socketUrl, onSocketMessage);","map":{"version":3,"names":["stripAnsi","require","socket","overlay","_require","log","setLogLevel","sendMessage","reloadApp","createSocketUrl","status","isUnloading","currentHash","options","hot","hotReload","liveReload","initial","useWarningOverlay","useErrorOverlay","useProgress","socketUrl","__resourceQuery","self","addEventListener","window","qs","location","search","toLowerCase","indexOf","onSocketMessage","info","invalid","clear","hash","_hash","stillOk","logLevel","level","hotCtx","context","keys","value","document","warnings","errors","progress","_progress","progressUpdate","data","concat","percent","msg","ok","contentChanged","reload","_warnings","warn","strippedWarnings","map","warning","i","length","showMessage","_errors","error","strippedErrors","_error","close"],"sources":["/home/danu/tel-u/node_modules/webpack-dev-server/client/index.js"],"sourcesContent":["'use strict';\n/* global __resourceQuery WorkerGlobalScope self */\n\n/* eslint prefer-destructuring: off */\n\nvar stripAnsi = require('strip-ansi');\n\nvar socket = require('./socket');\n\nvar overlay = require('./overlay');\n\nvar _require = require('./utils/log'),\n    log = _require.log,\n    setLogLevel = _require.setLogLevel;\n\nvar sendMessage = require('./utils/sendMessage');\n\nvar reloadApp = require('./utils/reloadApp');\n\nvar createSocketUrl = require('./utils/createSocketUrl');\n\nvar status = {\n  isUnloading: false,\n  currentHash: ''\n};\nvar options = {\n  hot: false,\n  hotReload: true,\n  liveReload: false,\n  initial: true,\n  useWarningOverlay: false,\n  useErrorOverlay: false,\n  useProgress: false\n};\nvar socketUrl = createSocketUrl(__resourceQuery);\nself.addEventListener('beforeunload', function () {\n  status.isUnloading = true;\n});\n\nif (typeof window !== 'undefined') {\n  var qs = window.location.search.toLowerCase();\n  options.hotReload = qs.indexOf('hotreload=false') === -1;\n}\n\nvar onSocketMessage = {\n  hot: function hot() {\n    options.hot = true;\n    log.info('[WDS] Hot Module Replacement enabled.');\n  },\n  liveReload: function liveReload() {\n    options.liveReload = true;\n    log.info('[WDS] Live Reloading enabled.');\n  },\n  invalid: function invalid() {\n    log.info('[WDS] App updated. Recompiling...'); // fixes #1042. overlay doesn't clear if errors are fixed but warnings remain.\n\n    if (options.useWarningOverlay || options.useErrorOverlay) {\n      overlay.clear();\n    }\n\n    sendMessage('Invalid');\n  },\n  hash: function hash(_hash) {\n    status.currentHash = _hash;\n  },\n  'still-ok': function stillOk() {\n    log.info('[WDS] Nothing changed.');\n\n    if (options.useWarningOverlay || options.useErrorOverlay) {\n      overlay.clear();\n    }\n\n    sendMessage('StillOk');\n  },\n  'log-level': function logLevel(level) {\n    var hotCtx = require.context('webpack/hot', false, /^\\.\\/log$/);\n\n    if (hotCtx.keys().indexOf('./log') !== -1) {\n      hotCtx('./log').setLogLevel(level);\n    }\n\n    setLogLevel(level);\n  },\n  overlay: function overlay(value) {\n    if (typeof document !== 'undefined') {\n      if (typeof value === 'boolean') {\n        options.useWarningOverlay = false;\n        options.useErrorOverlay = value;\n      } else if (value) {\n        options.useWarningOverlay = value.warnings;\n        options.useErrorOverlay = value.errors;\n      }\n    }\n  },\n  progress: function progress(_progress) {\n    if (typeof document !== 'undefined') {\n      options.useProgress = _progress;\n    }\n  },\n  'progress-update': function progressUpdate(data) {\n    if (options.useProgress) {\n      log.info(\"[WDS] \".concat(data.percent, \"% - \").concat(data.msg, \".\"));\n    }\n\n    sendMessage('Progress', data);\n  },\n  ok: function ok() {\n    sendMessage('Ok');\n\n    if (options.useWarningOverlay || options.useErrorOverlay) {\n      overlay.clear();\n    }\n\n    if (options.initial) {\n      return options.initial = false;\n    } // eslint-disable-line no-return-assign\n\n\n    reloadApp(options, status);\n  },\n  'content-changed': function contentChanged() {\n    log.info('[WDS] Content base changed. Reloading...');\n    self.location.reload();\n  },\n  warnings: function warnings(_warnings) {\n    log.warn('[WDS] Warnings while compiling.');\n\n    var strippedWarnings = _warnings.map(function (warning) {\n      return stripAnsi(warning);\n    });\n\n    sendMessage('Warnings', strippedWarnings);\n\n    for (var i = 0; i < strippedWarnings.length; i++) {\n      log.warn(strippedWarnings[i]);\n    }\n\n    if (options.useWarningOverlay) {\n      overlay.showMessage(_warnings);\n    }\n\n    if (options.initial) {\n      return options.initial = false;\n    } // eslint-disable-line no-return-assign\n\n\n    reloadApp(options, status);\n  },\n  errors: function errors(_errors) {\n    log.error('[WDS] Errors while compiling. Reload prevented.');\n\n    var strippedErrors = _errors.map(function (error) {\n      return stripAnsi(error);\n    });\n\n    sendMessage('Errors', strippedErrors);\n\n    for (var i = 0; i < strippedErrors.length; i++) {\n      log.error(strippedErrors[i]);\n    }\n\n    if (options.useErrorOverlay) {\n      overlay.showMessage(_errors);\n    }\n\n    options.initial = false;\n  },\n  error: function error(_error) {\n    log.error(_error);\n  },\n  close: function close() {\n    log.error('[WDS] Disconnected!');\n    sendMessage('Close');\n  }\n};\nsocket(socketUrl, onSocketMessage);"],"mappings":"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"},"metadata":{},"sourceType":"script"}